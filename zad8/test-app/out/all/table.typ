#let diff(n) = if n == 0 { [#n] } else if n > 0 { text(fill: rgb("#880000"))[+#n] } else { text(fill: rgb("#008800"))[-#calc.abs(n)] }
#table(
  columns: 7,
  align: right + horizon,
  table.cell(rowspan: 2, colspan: 1)[*Name*], table.cell(rowspan: 1, colspan: 3)[*Åšredni czas [ms]*], table.cell(rowspan: 1, colspan: 3)[*Koszt*], [*Stary*], [*Nowy*], [*Zmiana*], [*Stary*], [*Nowy*], [*Zmiana*], [*`query1`*], [1574.47], [1053.04], [#diff(-521.43)], [1746], [1716], [#diff(-30)], [*`query2`*], [2310.49], [1945.22], [#diff(-365.27)], [9834], [7726], [#diff(-2108)], [*`query3`*], [3431.12], [3766.14], [#diff(335.02)], [11117], [6030], [#diff(-5087)], [*`query4`*], [19940.83], [13748.73], [#diff(-6192.10)], [98504], [98169], [#diff(-335)], [*`change1`*], [12014.35], [9827.65], [#diff(-2186.70)], [29726], [28767], [#diff(-959)], [*`change3`*], [1963.72], [1250.39], [#diff(-713.33)], [3954], [3594], [#diff(-360)], [*`change4`*], [613.72], [417.98], [#diff(-195.74)], [2474], [2141], [#diff(-333)]
)