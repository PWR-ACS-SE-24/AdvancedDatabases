Plan hash value: 2932541560
 
------------------------------------------------------------------------------------------------------------------------------------------
| Id  | Operation                                        | Name                          | Rows  | Bytes |TempSpc| Cost (%CPU)| Time     |
------------------------------------------------------------------------------------------------------------------------------------------
|   0 | SELECT STATEMENT                                 |                               |     1 |    78 |       |  6754   (1)| 00:00:01 |
|   1 |  HASH GROUP BY                                   |                               |     1 |    78 |       |  6754   (1)| 00:00:01 |
|   2 |   NESTED LOOPS                                   |                               |     1 |    78 |       |  6753   (1)| 00:00:01 |
|   3 |    NESTED LOOPS                                  |                               |     1 |    78 |       |  6753   (1)| 00:00:01 |
|   4 |     NESTED LOOPS                                 |                               |     1 |    71 |       |  6752   (1)| 00:00:01 |
|   5 |      NESTED LOOPS                                |                               |     1 |    60 |       |  6751   (1)| 00:00:01 |
|*  6 |       HASH JOIN                                  |                               |     1 |    34 |       |  6748   (1)| 00:00:01 |
|   7 |        JOIN FILTER CREATE                        | :BF0000                       |     1 |    29 |       |  1776   (1)| 00:00:01 |
|   8 |         NESTED LOOPS                             |                               |     1 |    29 |       |  1776   (1)| 00:00:01 |
|   9 |          NESTED LOOPS                            |                               |     1 |    29 |       |  1776   (1)| 00:00:01 |
|  10 |           VIEW                                   |                               |     1 |     5 |       |  1775   (1)| 00:00:01 |
|* 11 |            FILTER                                |                               |       |       |       |            |          |
|  12 |             SORT GROUP BY                        |                               |     1 |    89 |       |  1775   (1)| 00:00:01 |
|* 13 |              HASH JOIN                           |                               |  8470 |   736K|       |  1774   (1)| 00:00:01 |
|* 14 |               TABLE ACCESS BY INDEX ROWID BATCHED| SENTENCE                      |  8470 |   595K|       |  1206   (1)| 00:00:01 |
|* 15 |                INDEX RANGE SCAN                  | SENTENCE_START_DATE_IDX       |  3751 |       |       |    12   (0)| 00:00:01 |
|  16 |               TABLE ACCESS FULL                  | PRISONER                      |   264K|  4392K|       |   568   (1)| 00:00:01 |
|* 17 |           INDEX UNIQUE SCAN                      | SYS_C008234                   |     1 |       |       |     0   (0)| 00:00:01 |
|* 18 |          TABLE ACCESS BY INDEX ROWID             | PRISONER                      |     1 |    24 |       |     1   (0)| 00:00:01 |
|  19 |        VIEW                                      |                               |    24 |   120 |       |  4971   (1)| 00:00:01 |
|* 20 |         FILTER                                   |                               |       |       |       |            |          |
|  21 |          JOIN FILTER USE                         | :BF0000                       |    24 |   888 |       |  4971   (1)| 00:00:01 |
|  22 |           HASH GROUP BY                          |                               |    24 |   888 |       |  4971   (1)| 00:00:01 |
|* 23 |            HASH JOIN RIGHT OUTER                 |                               |   709K|    25M|  7992K|  4954   (1)| 00:00:01 |
|  24 |             TABLE ACCESS FULL                    | REPRIMAND                     |   371K|  3630K|       |  1223   (1)| 00:00:01 |
|* 25 |             HASH JOIN OUTER                      |                               |   412K|    10M|  7496K|  2578   (1)| 00:00:01 |
|  26 |              TABLE ACCESS FULL                   | PRISONER                      |   264K|  4392K|       |   568   (1)| 00:00:01 |
|  27 |              TABLE ACCESS FULL                   | SENTENCE                      |   416K|  4070K|       |  1210   (1)| 00:00:01 |
|* 28 |       TABLE ACCESS BY INDEX ROWID BATCHED        | ACCOMMODATION                 |     1 |    26 |       |     3   (0)| 00:00:01 |
|* 29 |        INDEX RANGE SCAN                          | ACCOMMODATION_FK_PRISONER_IDX |     5 |       |       |     2   (0)| 00:00:01 |
|* 30 |      TABLE ACCESS BY INDEX ROWID                 | CELL                          |     1 |    11 |       |     1   (0)| 00:00:01 |
|* 31 |       INDEX UNIQUE SCAN                          | SYS_C008269                   |     1 |       |       |     0   (0)| 00:00:01 |
|* 32 |     INDEX UNIQUE SCAN                            | SYS_C008241                   |     1 |       |       |     0   (0)| 00:00:01 |
|  33 |    TABLE ACCESS BY INDEX ROWID                   | PRISON_BLOCK                  |     1 |     7 |       |     1   (0)| 00:00:01 |
------------------------------------------------------------------------------------------------------------------------------------------
 
Predicate Information (identified by operation id):
---------------------------------------------------
 
   6 - access("P"."ID"="PC"."ID")
  11 - filter((:CRIME IS NULL OR INSTR(LISTAGG("S"."CRIME",', ') WITHIN GROUP ( ORDER BY "S"."ID"),:CRIME)>0) AND 
              (:MIN_STAY_MONTHS IS NULL OR MONTHS_BETWEEN(:NOW,MIN("S"."START_DATE"))>=TO_NUMBER(:MIN_STAY_MONTHS)) AND (:MAX_STAY_MONTHS IS 
              NULL OR MONTHS_BETWEEN(:NOW,MIN("S"."START_DATE"))<=TO_NUMBER(:MAX_STAY_MONTHS)) AND (:MIN_RELEASE_MONTHS IS NULL OR 
              MONTHS_BETWEEN(MAX("S"."PLANNED_END_DATE"),:NOW)>=TO_NUMBER(:MIN_RELEASE_MONTHS)) AND (:MAX_RELEASE_MONTHS IS NULL OR 
              MONTHS_BETWEEN(MAX("S"."PLANNED_END_DATE"),:NOW)<=TO_NUMBER(:MAX_RELEASE_MONTHS)))
  13 - access("P"."ID"="S"."FK_PRISONER")
  14 - filter("S"."REAL_END_DATE" IS NULL OR "S"."REAL_END_DATE">=TO_DATE(:NOW,'YYYY-MM-DD'))
  15 - access("S"."START_DATE"<=TO_DATE(:NOW,'YYYY-MM-DD'))
  17 - access("P"."ID"="PS"."ID")
  18 - filter((:MIN_HEIGHT_M IS NULL OR "P"."HEIGHT_M">=TO_NUMBER(:MIN_HEIGHT_M)) AND (:MAX_HEIGHT_M IS NULL OR 
              "P"."HEIGHT_M"<=TO_NUMBER(:MAX_HEIGHT_M)) AND (:MIN_WEIGHT_KG IS NULL OR "P"."WEIGHT_KG">=TO_NUMBER(:MIN_WEIGHT_KG)) AND 
              (:MAX_WEIGHT_KG IS NULL OR "P"."WEIGHT_KG"<=TO_NUMBER(:MAX_WEIGHT_KG)) AND ("P"."SEX"=TO_NUMBER(:SEX) OR :SEX IS NULL) AND 
              (:MIN_AGE IS NULL OR MONTHS_BETWEEN(:NOW,INTERNAL_FUNCTION("P"."BIRTHDAY"))>=TO_NUMBER(:MIN_AGE)*12) AND (:MAX_AGE IS NULL OR 
              MONTHS_BETWEEN(:NOW,INTERNAL_FUNCTION("P"."BIRTHDAY"))<=TO_NUMBER(:MAX_AGE)*12))
  20 - filter((:MIN_SENTENCES IS NULL OR COUNT("S"."ID")>=TO_NUMBER(:MIN_SENTENCES)) AND (:MAX_SENTENCES IS NULL OR 
              COUNT("S"."ID")<=TO_NUMBER(:MAX_SENTENCES)) AND (:MIN_REPRIMANDS IS NULL OR COUNT("R"."ID")>=TO_NUMBER(:MIN_REPRIMANDS)) AND 
              (:MAX_REPRIMANDS IS NULL OR COUNT("R"."ID")<=TO_NUMBER(:MAX_REPRIMANDS)))
  23 - access("P"."ID"="R"."FK_PRISONER"(+))
  25 - access("P"."ID"="S"."FK_PRISONER"(+))
  28 - filter("A"."START_DATE"<=TO_DATE(:NOW,'YYYY-MM-DD') AND ("A"."END_DATE" IS NULL OR 
              "A"."END_DATE">=TO_DATE(:NOW,'YYYY-MM-DD')))
  29 - access("A"."FK_PRISONER"="P"."ID")
  30 - filter("C"."IS_SOLITARY"=TO_NUMBER(:IS_IN_SOLITARY) OR :IS_IN_SOLITARY IS NULL)
  31 - access("C"."ID"="A"."FK_CELL")
  32 - access("PB"."ID"="C"."FK_BLOCK")
 
Note
-----
   - this is an adaptive plan
